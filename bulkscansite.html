<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bulk Sucuri/SiteCheck Opener</title>
<link href="favicon.png" rel="shortcut icon" type="image/x-icon">
<style>
  body {
font-family: Arial, sans-serif;
    background: #111;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    min-height: 100vh;
    margin: 0;
    padding: 30px 10px;
  }
  h1 {
    text-align: center;
    margin-bottom: 16px;
	  color: #028673;
  }
  textarea {
width: 90%;
    max-width: 600px;
    height: 150px;
    background: #222;
    color: #fff;
    border: 1px solid #444;
    border-radius: 8px;
    padding: 10px;
    font-size: 16px;
    resize: vertical;
  }
	
    .note {
      margin-top: 20px;
      font-size: 14px;
      color: #ccc;
      text-align: center;
      max-width: 600px;
      line-height: 1.6;
    }
  .controls {
    margin-top: 10px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }
  button {
	margin-top: 15px;
    padding: 12px 25px;
    font-size: 16px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.3s;
	  color: #fff;
  }
  button#generateBtn { background: #28a745; }
  button#openAllBtn { background: #007bff; }
  button#copyAllBtn { background: #ff9800; display: none; }
	
  button#generateBtn:hover { background: #0f7e48; transform: scale(1.05); }
  button#openAllBtn:hover { background: #075ab2; transform: scale(1.05); }
  button#copyAllBtn:hover { background: #a36303; transform: scale(1.05); }
	

  #resultList {
    margin-top: 16px;
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
  }
  .linkbtn {
    padding: 8px 12px;
    border-radius: 6px;
    background: #222;
    border: 1px solid #444;
    cursor: pointer;
  }
  .linkbtn.clicked {
    background: #28a745;
    color: #111;
  }
	.linkbtn:hover {
    background: #007bff;
    color: #fff;
}
	.results-container {
    margin-top: 25px;
    width: 90%;
    max-width: 600px;
    background: #1a1a1a;
    border: 1px solid #333;
    border-radius: 8px;
    padding: 15px 15px 25px;
}

#generatedLabel {
  margin-bottom: 10px;
  font-size: 18px;
  color: #fff;
  text-align: left;
}

</style>
</head>
<body>

<h1>Bulk Site Scan Opener</h1>

<textarea id="input" placeholder="Enter URLs, one per line..."></textarea>

<div class="controls">
  <button id="generateBtn">Generate Links</button>
  <button id="openAllBtn">Open All</button>
  <button id="copyAllBtn">Copy All Links</button>
</div>

  <p class="note">
    ‚ö†Ô∏è Note: ‚ÄúOpen All‚Äù opens multiple tabs at once.<br>
    Please make sure to <strong>allow pop-ups</strong> in your browser for it to work.<br><br>
    üí° You can also <strong>copy all links</strong> and open them in your own URL bulk opener tool.
  </p>

<div class="results-container">
  <h2 id="generatedLabel" style="display:none;">Generated Scan Site Links:</h2>
  <div class="results" id="resultList"></div>
</div>
	

<script>
const input = document.getElementById('input');
const generateBtn = document.getElementById('generateBtn');
const openAllBtn = document.getElementById('openAllBtn');
const copyAllBtn = document.getElementById('copyAllBtn');
const resultList = document.getElementById('resultList');

let generated = [];

function normalizeLine(line){
  line = line.trim();
  if(!line) return null;
  try{
    let maybe = line.match(/^([a-z0-9+.-]+:)?\/\//i) ? line : 'https://' + line;
    let u = new URL(maybe);
    let scheme = u.protocol.replace(':','');
    let rest = u.hostname + (u.pathname && u.pathname !== '/' ? encodeURI(u.pathname) : '');
    if(u.search) rest += encodeURIComponent(u.search);
    return {scheme, rest, original:line};
  }catch(e){
    return {scheme:'https', rest: encodeURIComponent(line), original:line};
  }
}

function makeResultUrl(norm){
  return `https://sitecheck.sucuri.net/results/${encodeURIComponent(norm.scheme)}/${norm.rest}`;
}

function renderList(){
  resultList.innerHTML = '';
  document.getElementById('generatedLabel').style.display = generated.length ? 'block' : 'none';
  
  generated.forEach((g, idx) => {
    const btn = document.createElement('div');
    btn.className = 'linkbtn';
    btn.textContent = g.label;
    btn.addEventListener('click', ()=>{
      window.open(g.url, '_blank');
      btn.classList.add('clicked');
    });
    resultList.appendChild(btn);
  });
}


generateBtn.addEventListener('click', ()=>{
  const lines = input.value.split(/\r?\n/).map(l=>l.trim()).filter(Boolean);
  generated = [];
  lines.forEach(line=>{
    const n = normalizeLine(line);
    if(n){
      const url = makeResultUrl(n);
      generated.push({label: n.original, url});
    }
  });
  if(generated.length){
    renderList();
    copyAllBtn.style.display = 'inline-block'; // show copy button
  }else{
    resultList.innerHTML = '<div style="color:#ccc">No valid URLs found.</div>';
    copyAllBtn.style.display = 'none';
  }
});

openAllBtn.addEventListener('click', () => {
  if (generated.length === 0) {
    // Auto-generate links from textarea if not yet generated
    const lines = input.value.split(/\r?\n/).map(l => l.trim()).filter(Boolean);
    generated = [];
    lines.forEach(line => {
      const n = normalizeLine(line);
      if (n) {
        const url = makeResultUrl(n);
        generated.push({ label: n.original, url });
      }
    });
    if (generated.length) renderList();
  }

  // Open all links
  generated.forEach(g => window.open(g.url, '_blank'));
});

copyAllBtn.addEventListener('click', async ()=>{
  if(generated.length === 0) return;
  const text = generated.map(g=>g.url).join('\n');
  try{
    await navigator.clipboard.writeText(text);
    copyAllBtn.textContent = 'Copied ‚úì';
    setTimeout(()=>copyAllBtn.textContent = 'Copy All Links',1500);
  }catch(e){
    prompt('Copy these links:', text);
  }
});
</script>

</body>
</html>
